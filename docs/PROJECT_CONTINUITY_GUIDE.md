# Whatsub 프로젝트 연속성 가이드

이 문서는 대화 컨텍스트가 초기화된 후에도 프로젝트의 연속성을 유지하기 위한 핵심 정보를 포함하고 있습니다.

## 1. 프로젝트 설정 및 환경

### 기본 정보
- **프로젝트명**: Whatsub (크롬 확장 프로그램)
- **현재 버전**: 0.2.3 (알파)
- **현재 브랜치**: backup-march-26 (2025-03-26 작업 백업)
- **주요 기능**: 모든 웹사이트에서 자막 서비스 제공, Whisper AI 음성 인식, 다국어 지원, 실시간 댓글 등

### 개발 환경 설정
1. **저장소 상태**: 3월 26일 백업 브랜치에서 작업 중
2. **로컬 개발 환경**: 
   - Windows OS
   - PowerShell 사용
   - 전체 경로: E:\study\Business\Develope\whatsub
3. **확장 프로그램 로드 방법**:
   - chrome://extensions/ 접속
   - 개발자 모드 활성화
   - "압축해제된 확장프로그램 로드" 클릭
   - `my-next-app/public/extension` 디렉토리 선택

### 작업 계속 방법
1. 먼저 docs/CURRENT_DEVELOPMENT_STATUS.md에서 현재 진행 중인 작업과 다음 단계 확인
2. 문제 해결은 "즉시 처리 태스크" 우선 진행 (메시지 통신 오류, UI 개선 등)
3. 코드 수정 전 항상 현재 상태 파악을 위해 관련 파일 검토
4. 변경 사항 테스트 후 Git 커밋 (커밋 메시지 형식: "분류: 변경 내용 설명")

## 2. 현재까지의 작업 요약

### 최근까지 진행된 작업
1. 프로젝트 문서 업데이트 및 개발 계획 수립
2. 3월 26일 상태로 백업 브랜치 생성 (backup-march-26)
3. 주요 문서 작성 완료:
   - WHATSUB_PROJECT_DOCUMENTATION.md: 프로젝트 종합 문서
   - CURRENT_DEVELOPMENT_STATUS.md: 현재 개발 상태 및 계획

### 다음 진행 계획
1. 메시지 통신 오류 해결 및 안정성 개선
2. 자막 UI 최적화 (토글 상태 동기화, 비활성화 시 완전 제거)
3. UI 재배치 (이중 자막 설정을 메인 탭으로 이동 등)

### 주의 사항
- 사용자 요청에 따라 추가 고려할 기능:
  - 실시간 댓글 기능 (TikTok, Bilibili 스타일)
  - 이중 자막 언어 설정 개선
  - 쉐도잉 학습 모드
  - 자동 시작 기능 개선

## 3. 핵심 파일 구조 및 역할

### 주요 파일
1. **background.js**
   - 백그라운드 프로세스 관리
   - 인증, 메시지 핸들링, 오디오 캡처
   - 현재 문제점: 메시지 통신 오류

2. **popup.js**
   - 사용자 인터페이스 및 상호작용
   - 현재 문제점: 초기 로드 시 블랭크 화면

3. **content-script.js**
   - 웹페이지 내 자막 표시 및 UI 렌더링
   - 현재 문제점: 자막 토글 상태 동기화 문제

4. **기타 주요 파일**
   - manifest.json: 확장 프로그램 설정
   - services/firebase-sdk.js: Firebase 인증
   - styles/subtitles.css: 자막 스타일

### 파일 위치
- 모든 확장 프로그램 파일: my-next-app/public/extension/
- 문서 파일: docs/

## 4. 진행 중인 최우선 작업 (즉시 처리 태스크)

### 오류 해결 및 안정성 개선
- background.js의 메시지 통신 오류 해결
- 팝업 초기화 시 블랭크 화면 문제 수정
- 인증 상태 확인 메커니즘 개선

### 자막 UI 최적화
- 자막 렌더링 성능 개선
- 드래그 & 드롭 위치 조정 기능 안정화
- 자막 토글 상태와 메인 메뉴 동기화
- 자막 비활성화 시 토글창 완전 제거

### UI 재배치 작업
- 이중 자막 설정을 메인 탭으로 이동
- 자막 필터링 설명 간소화

---

**작성일**: 2025-03-28
**작성자**: Whatsub 개발팀 