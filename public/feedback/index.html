<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>피드백 - WhatSub</title>
  <meta name="description" content="WhatSub 서비스 이용 중 발견한 문제점이나 개선 제안을 알려주세요.">
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="stylesheet" href="/styles/pages.css">
  <link rel="icon" type="image/png" href="/extension/icons/icon-16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/extension/icons/icon-32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/extension/icons/icon-48.png" sizes="48x48">
  <link rel="icon" type="image/png" href="/extension/icons/icon-128.png" sizes="128x128">
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f7f7f7;
      margin: 0;
      padding: 0;
      color: #333;
      line-height: 1.6;
    }
    
    .header {
      background-color: white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      padding: 15px 0;
      width: 100%;
    }
    
    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      color: #4285f4;
      text-decoration: none;
    }
    
    .nav-links {
      display: flex;
      gap: 20px;
    }
    
    .nav-links a {
      text-decoration: none;
      color: #555;
      font-weight: 500;
      transition: color 0.3s;
    }
    
    .nav-links a:hover {
      color: #4285f4;
    }
    
    .container {
      max-width: 800px;
      margin: 40px auto;
      padding: 40px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #333;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .intro {
      margin-bottom: 30px;
    }
    
    .feedback-form {
      margin-top: 30px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    input, textarea, select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
      font-family: inherit;
    }
    
    textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .checkbox-group {
      margin-top: 5px;
    }
    
    .checkbox-label {
      display: flex;
      align-items: flex-start;
      margin-bottom: 10px;
      cursor: pointer;
    }
    
    .checkbox-label input {
      width: auto;
      margin-right: 10px;
      margin-top: 4px;
    }
    
    .button {
      display: inline-block;
      background-color: #4285f4;
      color: white;
      padding: 12px 24px;
      text-decoration: none;
      border-radius: 4px;
      font-weight: 500;
      transition: background-color 0.3s;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    
    .button:hover {
      background-color: #3367d6;
    }
    
    .alternative-methods {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .alternative-methods h3 {
      margin-bottom: 15px;
    }
    
    .footer {
      background-color: #333;
      color: white;
      padding: 30px 0;
      margin-top: 50px;
    }
    
    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      text-align: center;
    }
    
    .footer-links {
      margin-bottom: 20px;
    }
    
    .footer-links a {
      color: #aaa;
      text-decoration: none;
      margin: 0 15px;
      transition: color 0.3s;
    }
    
    .footer-links a:hover {
      color: white;
    }
    
    .copyright {
      color: #888;
      font-size: 14px;
    }
    
    .success-message {
      display: none;
      background-color: #d4edda;
      color: #155724;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 20px;
    }
    
    .error-message {
      display: none;
      background-color: #f8d7da;
      color: #721c24;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-container">
      <a href="../" class="logo">WhatSub</a>
      <nav class="nav-links">
        <a href="../#features">기능</a>
        <a href="../pricing/">요금제</a>
        <a href="../help/">도움말</a>
        <a href="../login/">로그인</a>
        <a href="../signup/">회원가입</a>
      </nav>
    </div>
  </header>
  
  <div class="container">
    <h1>피드백</h1>
    
    <div class="intro">
      <p>WhatSub을 사용해 주셔서 감사합니다. 여러분의 의견은 저희에게 매우 중요합니다. 제품을 개선하고 더 나은 서비스를 제공하기 위해 피드백을 남겨주세요.</p>
    </div>
    
    <div class="success-message" id="success-message">
      피드백이 성공적으로 제출되었습니다. 소중한 의견에 감사드립니다!
    </div>
    
    <div class="error-message" id="error-message">
      피드백 제출 중 오류가 발생했습니다. 잠시 후 다시 시도해 주세요.
    </div>
    
    <div class="feedback-form">
      <form id="feedback-form">
        <div class="form-group">
          <label for="feedback-type">피드백 유형</label>
          <select id="feedback-type" name="feedback-type" required>
            <option value="" disabled selected>피드백 유형을 선택하세요</option>
            <option value="bug">버그 리포트</option>
            <option value="feature">기능 제안</option>
            <option value="improvement">개선 제안</option>
            <option value="complaint">불만 사항</option>
            <option value="compliment">칭찬</option>
            <option value="other">기타</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="feedback-content">피드백 내용</label>
          <textarea id="feedback-content" name="feedback-content" placeholder="여기에 자세한 피드백을 작성해 주세요..." required></textarea>
        </div>
        
        <div class="form-group">
          <label for="user-email">이메일 주소 (선택사항)</label>
          <input type="email" id="user-email" name="user-email" placeholder="회신을 원하시면 이메일을 입력해 주세요">
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" id="contact-consent" name="contact-consent">
              <span>제출한 피드백에 대해 추가 문의를 위해 연락하는 것에 동의합니다.</span>
            </label>
          </div>
        </div>
        
        <button type="submit" class="button">피드백 제출</button>
      </form>
    </div>
    
    <div class="alternative-methods">
      <h3>다른 피드백 방법</h3>
      <p>크롬 확장 프로그램 내에서도 피드백을 제출할 수 있습니다. 확장 프로그램의 우측 상단에 있는 메뉴에서 '피드백' 옵션을 선택하세요.</p>
    </div>
  </div>
  
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-links">
        <a href="../">홈</a>
        <a href="../help/">도움말</a>
        <a href="../terms/">이용약관</a>
        <a href="../privacy/">개인정보처리방침</a>
      </div>
      <div class="copyright">
        &copy; 2024 WhatSub. All rights reserved.
      </div>
    </div>
  </footer>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('feedback-form');
      const successMessage = document.getElementById('success-message');
      const errorMessage = document.getElementById('error-message');
      
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        
        // 폼 데이터 수집
        const feedbackType = document.getElementById('feedback-type').value;
        const feedbackContent = document.getElementById('feedback-content').value;
        const userEmail = document.getElementById('user-email').value;
        const contactConsent = document.getElementById('contact-consent').checked;
        
        // 크롬 확장 프로그램으로 피드백 전송 (실제로는 백엔드 API로 전송해야 함)
        // 현재는 시뮬레이션만 진행
        if (chrome && chrome.runtime && chrome.runtime.sendMessage) {
          try {
            chrome.runtime.sendMessage(
              { 
                action: 'submit_feedback',
                data: {
                  type: feedbackType,
                  content: feedbackContent,
                  email: userEmail,
                  contactConsent: contactConsent,
                  source: 'website'
                }
              },
              function(response) {
                if (response && response.success) {
                  showSuccess();
                } else {
                  showError();
                }
              }
            );
          } catch (error) {
            console.error('Error sending feedback to extension:', error);
            showError();
          }
        } else {
          // 크롬 확장 프로그램 컨텍스트가 아닌 경우 성공으로 처리
          console.log('Feedback data:', { 
            type: feedbackType, 
            content: feedbackContent, 
            email: userEmail, 
            contactConsent: contactConsent 
          });
          
          // 실제 구현에서는 여기에 API 호출이 들어가야 함
          
          showSuccess();
        }
      });
      
      function showSuccess() {
        form.reset();
        successMessage.style.display = 'block';
        errorMessage.style.display = 'none';
        
        setTimeout(function() {
          successMessage.style.display = 'none';
        }, 5000);
      }
      
      function showError() {
        errorMessage.style.display = 'block';
        successMessage.style.display = 'none';
        
        setTimeout(function() {
          errorMessage.style.display = 'none';
        }, 5000);
      }
    });
  </script>
</body>
</html> 